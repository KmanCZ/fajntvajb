{{template "layout.html" .}}

{{define "title"}}{{.Vajb.Name}}{{end}}

{{define "content"}}
<div class="flex mt-10 items-start justify-center h-full rounded-b-xl">
    <div class="w-[90%] bg-gray-50 shadow-lg rounded-xl">
        {{if .ImagePath}}
        <img src="{{.ImagePath}}" alt="Vajb image" class="w-full h-64 object-cover rounded-t-xl">
        {{else}}
        <div class="w-full h-64 bg-gray-300 rounded-t-xl"></div>
        {{end}}

        <div class="p-10">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl">{{.Vajb.Name}}</h1>
                {{if .IsOwner}}
                <div class="flex gap-2">
                    <a href="/vajb/{{.Vajb.ID}}/edit"
                        class="bg-gray-600 hover:bg-gray-500 text-slate-100 px-5 py-2 rounded-3xl shadow-lg">Edit</a>
                    <a hx-delete="/vajb/{{.Vajb.ID}}" href="#"
                        class="bg-red-600 hover:bg-red-500 text-slate-100 px-5 py-2 rounded-3xl shadow-lg">Delete</a>
                </div>
                {{else}}
                <div class="flex gap-2">
                    <a hx-post="/vajb/join/{{.Vajb.ID}}" href="#"
                        class="bg-gray-600 hover:bg-gray-500 text-slate-100 px-5 py-2 rounded-3xl shadow-lg">Join</a>
                </div>
                {{end}}
            </div>
            <div class="flex gap-3">
                <div class="mt-5 bg-gray-200 rounded-xl h-full w-[20rem] p-3">
                    <p class="text-lg truncate">
                        <i class="fa-solid fa-location-pin"></i> {{.Vajb.Address}}
                    </p>
                    <p class="text-lg truncate"><i class="fa-solid fa-map"></i> {{.Region}}</p>
                    <p class="text-lg truncate"><i class="fa-solid fa-calendar"></i> {{.Date}}</p>
                    <p class="text-lg truncate"><i class="fa-solid fa-user-group"></i>
                        {{if .Participants}}
                        {{.Participants}} participants
                        {{else}}
                        No participants yet
                        {{end}}
                    </p>
                </div>

                <div class="mt-5">
                    <h2 class="text-xl">Description</h2>
                    <p class="text-lg">{{.Vajb.Description}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{{end}}
